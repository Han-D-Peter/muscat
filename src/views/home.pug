extends layouts/main.pug

block maincontent
    .header__floatingBox
        .header__floatingBox-topten
            span.toptem-text 탑5
        .header__floatingBox-xscroll
                each item in topFiveList
                    a(href="detail/"+item.id)
                        .floatingBox
                            .floatingBox__img
                                img(src=item.fileUrl alt="My Image" width="230" height="230")
                            .floatingBox__dday
                                -var endDay = new Date(`${item.expiredDate.expiredyear}-${item.expiredDate.expiredmonth}-${item.expiredDate.expiredday}`)
                                -var today = new Date();
                                -var gap = endDay - today
                                -var dday = Math.floor(gap/ (1000 * 60 * 60 * 24)) * -1 -1
                                    if item.startDate.everyday === true
                                        .floatingBox__dday-text
                                            .floatingBox__dday-textSpan 상시
                                    else if dday === 0
                                        .floatingBox__dday-text
                                            .floatingBox__dday-textSpan 오늘까지
                                    else
                                        .floatingBox__dday-text
                                            .floatingBox__dday-textSpan D#{dday}
            
                            .floatingBox__tagBox
                                .floatingBox__tags
                                    -var n = 0;
                                    -var length = item.tags.tagsArr.length;
                                        if length <= 2
                                            while n < (length)    
                                                .floatingBox__tags-element
                                                    span ##{item.tags.tagsArr[n++]}
                                        else if length >= 3
                                            while n < 2    
                                                .floatingBox__tags-element
                                                    span ##{item.tags.tagsArr[n++]}

                            .floatingBox__boxName=item.name
                            .floatingBox__boxDate 대상자:
                                if item.range == "없음"
                                    span 누구나
                                else
                                    span #{item.range} 
                                //-if item.startDate.everyday === true
                                    span 상시
                                //-else
                                    span #{item.startDate.startyear}-#{item.startDate.startmonth}-#{item.startDate.startday} ~ #{item.expiredDate.expiredyear}-#{item.expiredDate.expiredmonth}-#{item.expiredDate.expiredday}
            

                            .floatingBox__boxRating
                                if item.rating === 1
                                    span.ratingStar
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                else if item.rating === 2
                                    span.ratingStar
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                else if item.rating === 3
                                    span.ratingStar
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                else if item.rating === 4
                                    span.ratingStar
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                else if item.rating === 5
                                    span.ratingStar
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                else if item.rating === 6
                                    span.ratingStar-six 개쩌는 추천!!!

    .header__popupMenu
        .header__popupMenu-box#header__popupMenu-box
    .main__title
        .main__title-text Content List
    .main__content
        .main__content-grid
            each content in contents
                a(href="detail/"+content.id)
                    .content-box
                        .content-boxImg
                            img(src=content.fileUrl alt="My Image" width="200" height="200")
                        .content__boxDday
                            -var endDay = new Date(`${content.expiredDate.expiredyear}-${content.expiredDate.expiredmonth}-${content.expiredDate.expiredday}`)
                            -var today = new Date();
                            -var gap = endDay - today
                            -var dday = Math.floor(gap/ (1000 * 60 * 60 * 24)) * -1 -1
                                if content.startDate.everyday === true
                                    .content__boxDday-text
                                        .content__boxDday-textSpan 상시
                                else if dday === 0
                                    .content__boxDday-text
                                        .content__boxDday-textSpan 오늘까지
                                else
                                    .content__boxDday-text
                                        .content__boxDday-textSpan D#{dday}

                        .content__boxTagBox
                                .content__boxTags
                                    -var n = 0;
                                    -var length = content.tags.tagsArr.length;
                                        if length <= 2
                                            while n < (length)        
                                                .content__boxTags-element
                                                    span ##{content.tags.tagsArr[n++]}
                                        else if length >= 3
                                            while n < 2    
                                                .content__boxTags-element
                                                    span ##{content.tags.tagsArr[n++]}

                        .content-boxName=content.name
                        .content-boxDate 대상자:
                            if content.range == "없음"
                                span 누구나
                            else
                                span #{content.range}

                        //-기간별 표시내용 백업
                            //-if content.startDate.everyday === true
                                span 상시
                            //-else
                                span #{content.startDate.startyear}-#{content.startDate.startmonth}-#{content.startDate.startday} ~ #{content.expiredDate.expiredyear}-#{content.expiredDate.expiredmonth}-#{content.expiredDate.expiredday}
                      
                        .content-boxRating
                            if content.rating === 1
                                span.ratingStar
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                            else if content.rating === 2
                                span.ratingStar
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                            else if content.rating === 3
                                span.ratingStar
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                            else if content.rating === 4
                                span.ratingStar
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                            else if content.rating === 5
                                span.ratingStar
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                            else if content.rating === 6
                                div.ratingStar-six-home 개쩌는 추천!!!

    <script type="text/javascript">textFit(document.getElementsByClassName("content-boxName")</script>